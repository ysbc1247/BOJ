# [Gold I] 태풍 예보 - 25971 

[문제 링크](https://www.acmicpc.net/problem/25971) 

### 성능 요약

메모리: 15084 KB, 시간: 156 ms

### 분류

많은 조건 분기(case_work), 기하학(geometry)

### 문제 설명

<p>2099년 여름 평화로운 지구에 태풍이 찾아왔다!</p>

<p>태풍이 오는 곳의 지도는 2차원 좌표계로 나타낼 수 있으며 태풍은 하나의 원으로 나타낼 수 있다. 경북대학교 알고리즘 문제해결 동아리 gori에서 $K$개의 태풍을 관측하여 $N$일 중 $i$번째 일의 태풍 위치 좌표 $(x_i, y_i)$를 구했다. gori는 이번 태풍의 신기한 점을 하나 발견했는데, 그것은 태풍이 각 관측일 사이에 $x$축 또는 $y$축에 평행한 방향으로 하루에 1씩 움직이는 등속운동을 한다는 사실이다. 또한 태풍은 관측일과 관측일 사이에는 이동 방향을 바꾸지 않는다. 따라서 연속된 두 관측일 사이에 태풍은 $x$축 혹은 $y$축에 평행한 방향으로 두 관측일의 차 만큼 움직인다. gori는 $1$번째 날과 $N$번째 날에 태풍을 관측했다는 것이 보장되고 같은 날에 태풍을 두 번 관측한 적은 없다. <strong>$N$번째 날에는 다음 관측일이 없으므로 태풍의 이동방향이 바뀌지 않는다.</strong></p>

<p>태풍이 이동하고 있을 때 태풍 위치를 중심으로 하는 원의 왼쪽 반원을 안전 반원이라고 하고 오른쪽을 위험 반원이라고 한다. 안전, 위험반원은 원의 둘레를 포함한다.</p>

<p style="text-align: center;"><img alt="" src="" style="width: 394px; height: 167px;"></p>

<p>만약 태풍이 어떤 관측일에 방향을 바꿨을 경우 그 관측일부터 방향이 바뀐 것으로로 취급한다. gori가 $N$일동안 관측한 태풍 좌표 $K$개, 태풍의 반지름 $R$이 주어지고 $Q$개의 날짜와 사람 위치 좌표 $(j, x_j, y_j)$가 주어진다. 이는 $j$번째 일에 사람이 $(x_j,y_j)$에 위치해 있다는 뜻이다. 사람 위치 좌표는 크게 네 가지로 구분할 수 있다.</p>

<ol>
	<li>안전반원 안에 있다.</li>
	<li>위험반원 안에 있다.</li>
	<li>안전반원과 위험반원의 경계에 있다.</li>
	<li>태풍 밖에 있다.</li>
</ol>

<p>gori는 이 경우를 구분해내려고 하지만 gori의 슈퍼컴퓨터에 문제가 생겨버렸다. 곤란한 gori를 도와 각 사람 위치 좌표를 구분하는 프로그램을 만들어주자!</p>

### 입력 

 <p>첫 번째 줄에 $N, K, R, Q$가 공백으로 구분되어 주어진다. $(3 ≤ N ≤ 200\,000,3 ≤ K ≤ N,1 ≤ R ≤ 10^9,1 ≤ Q ≤ 100\,000)$</p>

<p>두 번째 줄부터 $K+1$번째 줄 까지 $i, x_i, y_i$가 공백으로 구분되어 주어진다. $(1 ≤ i ≤ N,-10^9 ≤ x_i, y_i ≤ 10^9)$</p>

<p>태풍의 정보는 관측일에 대해 오름차순으로 주어진다. 모든 관측일은 다르다는 것이 보장된다.</p>

<p>$K+2$번째 줄 부터 $K+Q+1$번째 줄 까지 $j, x_j, y_j$가 공백으로 구분되어 주어진다. $(1 ≤ j ≤ N,-10^9 ≤ x_j, y_j ≤ 10^9)$</p>

<p>입력되는 모든 수는 정수로 주어진다.</p>

### 출력 

 <p>$Q$개의 줄에 걸쳐 사람 위치 좌표가 안전반원에 속한다면 <code>safe</code>, 위험반원에 속한다면 <code>unsafe</code>, 안전반원과 위험반원의 경계에 있거나 태풍 밖에 있다면 <code>gori</code>를 출력한다.</p>

